# Broker Configuration Example
# This file demonstrates the configuration options for the broker-watermill library
# You can override any setting using environment variables (e.g., BROKER_TYPE=rabbitmq)

broker:
  # Broker type: "rabbitmq" or "googlepubsub"
  type: rabbitmq

  # RabbitMQ Configuration
  rabbitmq:
    # RabbitMQ connection URL
    url: amqp://guest:guest@localhost:5672/
    
    # Exchange configuration (optional, defaults provided by watermill-amqp)
    exchange: ""
    exchange_type: "topic"  # topic, direct, fanout, headers
    
    # Queue configuration (optional)
    queue: ""
    routing_key: ""
    
    # Consumer QoS settings (optional)
    prefetch_count: 0  # 0 means no limit
    prefetch_size: 0    # 0 means no limit
    
    # Consumer tag (optional)
    consumer_tag: ""
    
    # Publisher confirmation (optional)
    publisher_confirm: false

  # Google Pub/Sub Configuration
  googlepubsub:
    # GCP Project ID (required for googlepubsub)
    project_id: "my-gcp-project"
    
    # Topic name (optional, can be specified per publish/subscribe call)
    topic: ""
    
    # Subscription name (optional, can be specified per subscribe call)
    subscription: ""

# Subscriber Configuration
subscriber:
  # Number of parallel workers for processing messages
  parallelism: 10

